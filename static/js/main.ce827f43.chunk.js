(this["webpackJsonptodo-webapp"]=this["webpackJsonptodo-webapp"]||[]).push([[0],{18:function(e,t,s){},19:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s.n(a),i=s(8),n=s.n(i),o=(s(18),s(19),s(13)),c=s(2),l=s(3),d=s(7),h=s(5),u=s(4),k=s(1),b=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onTrigger=function(t){if(t.preventDefault(),""!==t.target.task.value){var s={taskBody:t.target.task.value,isActive:!0,id:null};e.props.parentAddTask(s),t.target.task.value=""}},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(k.jsx)("div",{children:Object(k.jsxs)("form",{onSubmit:this.onTrigger,autoComplete:"off",className:"add-task-form bg-white dark:bg-d-very-dark-desaturated-blue shadow-lg",children:[Object(k.jsx)("div",{className:"border-l-light-grayish-blue dark:border-d-very-dark-grayish-blue"}),Object(k.jsx)("input",{type:"text",name:"task",placeholder:"Create a new todo...",className:"add-task-input dark:bg-d-very-dark-desaturated-blue"})]})})}}]),s}(r.a.Component),v=s(6),g=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"markTask",value:function(){this.props.markTaskParent(this.props.task.id)}},{key:"removeTask",value:function(){this.props.removeTaskParent(this.props.task.id)}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",Object(v.a)(Object(v.a)(Object(v.a)({},this.props.provided.draggableProps),this.props.provided.dragHandleProps),{},{ref:this.props.innerRef,className:"task border-l-light-grayish-blue dark:border-d-very-very-dark-grayish-blue",children:[Object(k.jsx)("div",{className:"\n                    check\n                    dark:d-check\n                    "+(this.props.task.isActive?" bg-l-light-grayish-blue dark:bg-d-very-dark-grayish-blue ":" bg-check-gradient "),children:Object(k.jsx)("button",{onClick:function(){return e.markTask()},className:this.props.task.isActive?" bg-white dark:bg-d-very-dark-desaturated-blue ":" bg-check-gradient ",children:Object(k.jsx)("div",{className:"icon  "+(this.props.task.isActive?"":"bg-icon-check")})})}),Object(k.jsx)("div",{className:"\n                    task-body \n                    ",children:Object(k.jsx)("button",{className:this.props.task.isActive?"":" text-l-light-grayish-blue dark:text-d-very-dark-grayish-blue line-through ",onClick:function(){return e.markTask()},children:this.props.task.taskBody})}),Object(k.jsx)("button",{onClick:function(){return e.removeTask()},className:"cross ",children:Object(k.jsx)("div",{className:"icon bg-icon-cross sm:bg-none"})})]}))}}]),s}(r.a.Component),p=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"setAll",value:function(){this.props.setTasksToShow("all")}},{key:"setActive",value:function(){this.props.setTasksToShow("active")}},{key:"setCompleted",value:function(){this.props.setTasksToShow("completed")}},{key:"textColor",value:function(e){return this.props.tasksToShow===e?" text-primary-blue ":" text-l-dark-grayish-blue dark:text-d-dark-grayish-blue "}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"change-tasks flex flex-row justify-center rounded bg-white dark:bg-d-very-dark-desaturated-blue shadow-2xl sm:shadow-none p-2 sm:p-0 ",children:[Object(k.jsx)("button",{onClick:function(){return e.setAll()},className:"m-2 hover:text-l-very-dark-grayish-blue dark:hover:text-d-light-grayish-blue-hover"+this.textColor("all"),children:"All"}),Object(k.jsx)("button",{onClick:function(){return e.setActive()},className:"m-2 hover:text-l-very-dark-grayish-blue dark:hover:text-d-light-grayish-blue-hover"+this.textColor("active"),children:"Active"}),Object(k.jsx)("button",{onClick:function(){return e.setCompleted()},className:"m-2 hover:text-l-very-dark-grayish-blue dark:hover:text-d-light-grayish-blue-hover"+this.textColor("completed"),children:"Completed"})]})}}]),s}(r.a.Component),m=s(9),j=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"onDragStart",value:function(){window.navigator.vibrate&&window.navigator.vibrate(100)}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"flex-grow rounded bg-white dark:bg-d-very-dark-desaturated-blue shadow-2xl my-6",children:[Object(k.jsx)(m.a,{onDragEnd:function(t){e.props.handleOnDragEnd(t,e.props.tasks)},onDragStart:function(){return e.onDragStart()},children:Object(k.jsx)(m.c,{droppableId:"tasks",children:function(t,s){return Object(k.jsxs)("div",Object(v.a)(Object(v.a)({ref:t.innerRef},t.droppableProps),{},{children:[e.props.tasks.map((function(t,s){return Object(k.jsx)(m.b,{draggableId:t.id,index:s,children:function(a){return Object(k.jsx)(g,{index:s,removeTaskParent:e.props.remove,markTaskParent:e.props.mark,task:t,innerRef:a.innerRef,provided:a},t.id)}},t.id)})),t.placeholder]}))}})}),Object(k.jsxs)("div",{className:"flex flex-row p-4 sm:py-2 justify-between items-center text-l-dark-grayish-blue dark:text-d-very-dark-grayish-blue",children:[Object(k.jsxs)("div",{children:[this.props.quantityOnlyActive," items left"]}),Object(k.jsx)("div",{className:"hidden sm:block",children:Object(k.jsx)(p,{tasksToShow:this.props.tasksToShow,setTasksToShow:this.props.setTasksToShow})}),Object(k.jsx)("button",{onClick:this.props.clearAllCompleted,className:"hover:text-l-very-dark-grayish-blue dark:hover:text-d-light-grayish-blue-hover",children:"Clear completed"})]})]}),Object(k.jsx)("div",{className:"sm:hidden",children:Object(k.jsx)(p,{tasksToShow:this.props.tasksToShow,setTasksToShow:this.props.setTasksToShow})})]})}}]),s}(r.a.Component),f=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};function x(e,t){return 0===e.filter((function(e){return e.id===t})).length}var y=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={tasks:[],tasksToShow:"all",isLightTheme:!0},a.addTask=a.addTask.bind(Object(d.a)(a)),a.markTask=a.markTask.bind(Object(d.a)(a)),a.switchMarkTask=a.switchMarkTask.bind(Object(d.a)(a)),a.removeTask=a.removeTask.bind(Object(d.a)(a)),a.setTasksToShow=a.setTasksToShow.bind(Object(d.a)(a)),a.clearAllCompleted=a.clearAllCompleted.bind(Object(d.a)(a)),a.handleOnDragEnd=a.handleOnDragEnd.bind(Object(d.a)(a)),a}return Object(l.a)(s,[{key:"addTask",value:function(e){for(var t=this.state.tasks.slice(),s=f(),a=0;a<10&&!x(t,s);a++)s=f(),console.log("not unique id!");e.id=s,t.push(e),this.setState({tasks:t}),console.log("tasks ".concat(JSON.stringify(e)," added"))}},{key:"markTask",value:function(e,t){var s=this.state.tasks.slice(),a=s.findIndex((function(t){return t.id===e}));-1!==a?(s[a].isActive=t,this.setState({tasks:s}),console.log("task ".concat(e," marked, isActive ").concat(t))):console.log("task ".concat(e," not marked"))}},{key:"switchMarkTask",value:function(e){var t=this.state.tasks.slice(),s=t.findIndex((function(t){return t.id===e}));this.markTask(e,!t[s].isActive)}},{key:"removeTask",value:function(e){var t=this.state.tasks.slice(),s=t.findIndex((function(t){return t.id===e}));-1!==s?(t.splice(s,1),this.setState({tasks:t}),console.log("task ".concat(e," removed"))):console.log("task ".concat(e," not removed"))}},{key:"removeCompleted",value:function(){}},{key:"tasksToRender",value:function(){switch(this.state.tasksToShow){case"all":return this.state.tasks;case"active":return this.state.tasks.filter((function(e){return e.isActive}));case"completed":return this.state.tasks.filter((function(e){return!e.isActive}));default:return this.state.tasks}}},{key:"setTasksToShow",value:function(e){this.setState({tasksToShow:e})}},{key:"clearAllCompleted",value:function(){var e=this.state.tasks.filter((function(e){return e.isActive}));this.setState({tasks:e})}},{key:"getQuantityOnlyActive",value:function(){return this.state.tasks.filter((function(e){return e.isActive})).length}},{key:"changeTheme",value:function(){var e=this.state.isLightTheme;this.setState({isLightTheme:!e}),this.state.isLightTheme?document.body.style.backgroundColor="var(--d-very-dark-blue)":document.body.style.backgroundColor="var(--l-light-gray)"}},{key:"handleOnDragEnd",value:function(e,t){if(e.destination){console.log("in handleOnDragEnd");var s=Array.from(this.state.tasks),a=Array.from(t),r=a.splice(e.source.index,1),i=Object(o.a)(r,1)[0];if(a.splice(e.destination.index,0,i),e.source.index!==a.length-1){var n=a[e.destination.index-1],c=s.indexOf(i);s.splice(c,1);var l=s.indexOf(n);s.splice(l+1,0,i)}else{var d=a[e.destination.index+1],h=s.indexOf(i);s.splice(h,1);var u=s.indexOf(d);s.splice(u,0,i)}this.setState({tasks:s})}}},{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{className:this.state.isLightTheme?"":" dark",children:Object(k.jsx)("div",{className:"main-bg bg-img-light-mb sm:bg-img-light-desk dark:bg-img-dark-mb sm:dark:bg-img-dark-desk bg-top bg-no-repeat bg-contain overflow-auto",children:Object(k.jsxs)("div",{className:"mx-8 my-12 sm:m-auto sm:my-12 flex flex-col flex-grow justify-center max-w-xl",children:[Object(k.jsxs)("div",{className:"header flex justify-between items-center",children:[Object(k.jsx)("div",{className:"text-4xl font-bold text-white tracking-widest text-center",children:"TODO"}),Object(k.jsx)("button",{className:"bg-moon-sign dark:bg-sun-sign bg-no-repeat bg-auto",onClick:function(){return e.changeTheme()}})]}),Object(k.jsxs)("div",{className:"flex-grow flex flex-col my-12 dark:text-d-light-grayish-blue",children:[Object(k.jsx)(b,{parentAddTask:this.addTask}),Object(k.jsx)(j,{handleOnDragEnd:this.handleOnDragEnd,quantityOnlyActive:this.getQuantityOnlyActive(),tasks:this.tasksToRender(),tasksToShow:this.state.tasksToShow,setTasksToShow:this.setTasksToShow,clearAllCompleted:this.clearAllCompleted,remove:this.removeTask,mark:this.switchMarkTask}),Object(k.jsx)("div",{className:"flex justify-center my-12 items-center text-l-dark-grayish-blue dark:text-d-very-dark-grayish-blue",children:"Drag and drop to reorder list"})]})]})})})}}]),s}(r.a.Component);n.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(y,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.ce827f43.chunk.js.map